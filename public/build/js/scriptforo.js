let isLoggedIn=!1;function updateInterface(){const e=document.querySelector(".button-container"),t=document.querySelector(".new-topic-btn");isLoggedIn?(e.innerHTML='\n            <div class="user-info">\n                <p>Bienvenido, Usuario!</p>\n                <button class="logout-btn">Cerrar sesión</button>\n            </div>\n        ',t.style.display="block"):(e.innerHTML='\n            <button class="login-btn">Iniciar sesión</button>\n            <div class="separator">o</div>\n            <button class="signup-btn">Registrarse</button>\n        ',t.style.display="none"),attachEventListeners()}function attachEventListeners(){const e=document.querySelector(".login-btn"),t=document.querySelector(".logout-btn");e&&e.addEventListener("click",(()=>{isLoggedIn=!0,updateInterface()})),t&&t.addEventListener("click",(()=>{isLoggedIn=!1,updateInterface()}))}function setupCommentFunctionality(){const e=document.getElementById("comment-form"),t=document.getElementById("comment-text"),n=document.querySelector(".topic-comments"),o=n.querySelector("h3");e&&e.addEventListener("submit",(e=>{e.preventDefault();const s=t.value.trim();if(s){const e=document.createElement("div");e.classList.add("comment"),e.innerHTML=`\n                    <p><strong>${isLoggedIn?"Usuario":"Usuario Anónimo"}:</strong> ${s}</p>\n                `,n.insertBefore(e,n.querySelector(".add-comment"));const c=n.querySelectorAll(".comment").length;o.textContent=`Respuestas (${c})`,t.value=""}else alert("Por favor, escribe un comentario antes de enviarlo.")}))}document.addEventListener("DOMContentLoaded",(()=>{updateInterface(),setupCommentFunctionality()}));